let questions=[{question:"Pensez-vous avoir ou avoir eu de la fièvre ces 10 derniers jours (frissons, sueurs) ?",input:{type:"radio",qNumber:"Q1",answer:[{text:"Oui",icon:"fa-check"},{text:"Non",icon:"fa-times"}]}},{question:"Avez-vous des difficultés importantes pour vous alimenter ou boire depuis plus de 24h ?",input:{type:"radio",qNumber:"Q2",answer:[{text:"Oui",icon:"fa-check"},{text:"Non",icon:"fa-times"}]}},{question:"Ces derniers jours, avez-vous une toux ou une augmentation de votre toux habituelle ?",input:{type:"radio",qNumber:"Q3",answer:[{text:"Oui",icon:"fa-check"},{text:"Non",icon:"fa-times"}]}},{question:"Avez-vous eu des courbatures inhabituelles au cours des derniers jours ?",input:{type:"radio",qNumber:"Q4",answer:[{text:"Oui",icon:"fa-check"},{text:"Non",icon:"fa-times"}]}}],startBtn=document.getElementById("start"),questionnaire=document.getElementById("questionnaire"),Préambule=document.getElementById("Préambule"),stepper=document.querySelectorAll(".stepper h1"),nextBtn=document.querySelector(".next"),previousBtn=document.querySelector(".previous"),currentquestion=document.querySelector(".question"),answerInputs=document.querySelector(".answer-inputs"),progressBar=document.querySelector(".bar"),questionNumber=document.querySelector(".question-number"),inputBox=document.querySelector(".inputBox"),result=document.querySelector(".header"),resultMessage=document.querySelector(".end"),resultMessage2=document.querySelector(".end2");console.log(previousBtn);let currentQuestionIndex=0;function startTest(){stepper[0].classList.remove("active"),stepper[1].classList.add("active"),startBtn.style.display="none",Préambule.style.display="none",questionnaire.style.display="block",previousBtn.style.display="none",startBtn.disabled=!0,showQuestion(questions[currentQuestionIndex])}function showQuestion(e){currentquestion.innerText=e.question,answerInputs.innerHTML="";let s=e.input.answer,t=e.input;s.forEach(e=>{answerInputs.innerHTML+=`\n            <div>\n                <input type="radio" name="${t.qNumber}" id="${e.text}">\n                <label for="${e.text}">\n                <i class="fas ${e.icon}"></i>\n                <span>${e.text}</span> </label>\n            </div>`})}function folowProgress(e){const s=e+1;questionNumber.innerText=s,progressBar.style.width=`calc(${s} * calc(100% / 4))`}function nextQuestion(){if(currentQuestionIndex<3&&(currentQuestionIndex++,showQuestion(questions[currentQuestionIndex]),folowProgress(currentQuestionIndex),previousBtn.style.display="block",nextBtn.disabled=!1),3===currentQuestionIndex){nextBtn.innerText="Terminer le test",nextBtn.classList.add("result"),document.querySelector(".result").addEventListener("click",Results)}else nextBtn.innerText="Suivant",previousBtn.style.display="block"}function previousQuestion(){currentQuestionIndex<3&&(currentQuestionIndex--,showQuestion(questions[currentQuestionIndex]),folowProgress(currentQuestionIndex),nextBtn.disabled=!0),3===currentQuestionIndex?nextBtn.innerText="Terminer le test":(nextBtn.innerText="Suivant",nextBtn.classList.remove("result"))}startBtn.addEventListener("click",startTest),nextBtn.addEventListener("click",nextQuestion),previousBtn.addEventListener("click",previousQuestion),inputBox.addEventListener("change",e=>{let s=e.target;answers[s.name]=s.id,console.log(answers),nextBtn.disabled=!1});let answers={},severity=0;function Results(){"Non"===answers.Q1&&"Non"===answers.Q3&&"Non"===answers.Q4&&(resultMessage.innerText="Votre situation ne relève probablement pas du Covid-19.N’hésitez pas à contacter votre médecin en cas de doute.Vous pouvez refaire le test en cas de nouveau symptôme pour réévaluer la situation.Pour toute information concernant le Covid-19 allez vers la page d’accueil.",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène.",resultMessage.style.fontWeight="bold",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),("Oui"===answers.Q1&&"Non"===answers.Q3&&"Oui"===answers.Q4&&"Non"===answers.Q2||"Non"===answers.Q1&&"Oui"===answers.Q3&&"Oui"===answers.Q4&&"Non"===answers.Q2)&&(resultMessage.innerText="Nous vous conseillons de rester à votre domicile et de contacter votre médecin en cas d’apparition de nouveaux symptômes. Vous pourrez aussi utiliser à nouveau l’application pour réévaluer vos symptômes",resultMessage.style.fontWeight="bold",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),("Oui"===answers.Q1&&"Non"===answers.Q3&&"Oui"===answers.Q4&&"Oui"===answers.Q2||"Non"===answers.Q1&&"Oui"===answers.Q3&&"Oui"===answers.Q4&&"Oui"===answers.Q2)&&(resultMessage.innerText="Vous pouvez faire une téléconsultation ou médecin généraliste ou visite à domicile. Appelez le 141 si une gêne respiratoire ou des difficultés importantes pour s’alimenter ou boire pendant plus de 24h apparaissent.",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène. ",resultMessage.style.fontWeight="bold",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),"Oui"===answers.Q1&&"Oui"===answers.Q3&&"Non"===answers.Q4&&"Non"===answers.Q2&&(resultMessage.innerText="Vous pouvez faire une téléconsultation ou médecin généraliste ou visite à domicile. Appelez le 141 si une gêne respiratoire ou des difficultés importantes pour s’alimenter ou boire pendant plus de 24h apparaissent.",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène. ",resultMessage.style.fontWeight="bold",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),"Oui"===answers.Q1&&"Oui"===answers.Q3&&"Non"===answers.Q4&&"Oui"===answers.Q2&&(resultMessage.innerText="Appelez le 141",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène.",resultMessage.style.color="#FF0000",resultMessage.style.fontSize="48px",resultMessage.style.fontWeight="bold"),("Oui"===answers.Q1&&"Non"===answers.Q3&&"Non"===answers.Q4&&"Non"===answers.Q2||"Non"===answers.Q1&&"Oui"===answers.Q3&&"Non"===answers.Q4&&"Non"===answers.Q2||"Non"===answers.Q1&&"Non"===answers.Q3&&"Oui"===answers.Q4&&"Non"===answers.Q2)&&(resultMessage.innerText="Votre situation ne relève probablement pas du Covid-19. Consultez votre médecin au moindre doute.",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène.",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),("Oui"===answers.Q1&&"Non"===answers.Q3&&"Non"===answers.Q4&&"Oui"===answers.Q2||"Non"===answers.Q1&&"Oui"===answers.Q3&&"Non"===answers.Q4&&"Oui"===answers.Q2||"Non"===answers.Q1&&"Non"===answers.Q3&&"Oui"===answers.Q4&&"Oui"===answers.Q2)&&(resultMessage.innerText="Votre situation ne relève probablement pas du Covid-19. Consultez votre médecin au moindre doute.Appelez le 141",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène.",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),showResult(severity)}function showResult(e){stepper[1].classList.remove("active"),stepper[2].classList.add("active"),startBtn.style.display="block",Préambule.style.display="block",questionnaire.style.display="none",startBtn.textContent=" Recommencer le test",startBtn.addEventListener("click",reload),result.innerText="Résultats"}function reload(){window.location.reload()}