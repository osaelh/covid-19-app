let questions=[{question:"Pensez-vous avoir ou avoir eu de la fièvre ces 10 derniers jours (frissons, sueurs) ?",input:{type:"radio",qNumber:"Q1",answer:[{text:"Oui",icon:"fa-check"},{text:"Non",icon:"fa-times"}]}},{question:"Quel est votre âge ? Ceci, afin de calculer un facteur de risque spécifique.",input:{type:"number",qNumber:"Q2",name:"ans",min:15,max:110}},{question:"Ces derniers jours, avez-vous une toux ou une augmentation de votre toux habituelle ?",input:{type:"radio",qNumber:"Q3",answer:[{text:"Oui",icon:"fa-check"},{text:"Non",icon:"fa-times"}]}},{question:"Avez-vous eu des courbatures inhabituelles au cours des derniers jours ?",input:{type:"radio",qNumber:"Q4",answer:[{text:"Oui",icon:"fa-check"},{text:"Non",icon:"fa-times"}]}}],startBtn=document.getElementById("start"),questionnaire=document.getElementById("questionnaire"),Préambule=document.getElementById("Préambule"),stepper=document.querySelectorAll(".stepper h1"),nextBtn=document.querySelector(".next"),previousBtn=document.querySelector(".previous"),currentquestion=document.querySelector(".question"),answerInputs=document.querySelector(".answer-inputs"),progressBar=document.querySelector(".bar"),questionNumber=document.querySelector(".question-number"),inputBox=document.querySelector(".inputBox"),result=document.querySelector(".header"),resultMessage=document.querySelector(".end"),resultMessage2=document.querySelector(".end2");console.log(previousBtn);let currentQuestionIndex=0;function startTest(){stepper[0].classList.remove("active"),stepper[1].classList.add("active"),startBtn.style.display="none",Préambule.style.display="none",questionnaire.style.display="block",previousBtn.style.display="none",startBtn.disabled=!0,showQuestion(questions[currentQuestionIndex])}function showQuestion(e){currentquestion.innerText=e.question,answerInputs.innerHTML="";let t=e.input.answer,n=e.input;"radio"===e.input.type?t.forEach(e=>{answerInputs.innerHTML+=`\n                  <div>\n                      <input type="radio" name="${n.qNumber}" id="${e.text}">\n                      <label for="${e.text}">\n                      <i class="fas ${e.icon}"></i>\n                      <span>${e.text}</span> </label>\n                  </div>`}):answerInputs.innerHTML+=`<input type="number" name="${n.qNumber}" id="${n.name}" min="${n.min}" max="${n.max}" placeholder="${n.min} - ${n.max}">\n                                  <span class="input-span">${n.name}</span>`}function nextQuestion(){if(currentQuestionIndex<3&&(currentQuestionIndex++,showQuestion(questions[currentQuestionIndex]),previousBtn.style.display="block",nextBtn.disabled=!1),3===currentQuestionIndex){nextBtn.innerText="Terminer le test",nextBtn.classList.add("result"),document.querySelector(".result").addEventListener("click",Results)}else nextBtn.innerText="Suivant",previousBtn.style.display="block"}function previousQuestion(){currentQuestionIndex<3&&(currentQuestionIndex--,showQuestion(questions[currentQuestionIndex]),nextBtn.disabled=!0),3===currentQuestionIndex?nextBtn.innerText="Terminer le test":(nextBtn.innerText="Suivant",nextBtn.classList.remove("result"))}startBtn.addEventListener("click",startTest),nextBtn.addEventListener("click",nextQuestion),previousBtn.addEventListener("click",previousQuestion),inputBox.addEventListener("change",e=>{let t=e.target;if("number"===t.type){let e=parseFloat(t.value);e>=t.min&&e<=t.max?(answers[t.name]=t.value,nextBtn.disabled=!1):nextBtn.disabled=!0}else answers[t.name]=t.id,console.log(answers),nextBtn.disabled=!1});let answers={},severity=0;function Results(){"Oui"!==answers.Q1&&"Oui"!==answers.Q3&&"Oui"!==answers.Q1&&"Oui"!==answers.Q4||(resultMessage.innerText="Nous vous conseillons de rester à votre domicile et de contacter votre médecin en cas d’apparition de nouveaux symptômes. Vous pourrez aussi utiliser à nouveau l’application pour réévaluer vos symptômes",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène.",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),("Oui"===answers.Q1&&"Non"===answers.Q3&&"Non"===answers.Q4||"Non"===answers.Q1&&"Oui"===answers.Q3&&"Non"===answers.Q4||"Oui"===answers.Q4&&"Non"==answers.Q1&&"Non"==answers.Q3)&&(resultMessage.innerText="Votre situation ne relève probablement pas du Covid-19. Consultez votre médecin au moindre doute.",resultMessage2.innerText="Restez chez vous au maximum en attendant que les symptômes disparaissent. Prenez votre température deux fois par jour. Rappel des mesures d’hygiène.",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),"Oui"===answers.Q1&&"Oui"===answers.Q3&&"Non"==answers.Q4&&(resultMessage.innerText="Nous vous conseillons de rester à votre domicile et de contacter votre médecin en cas d’apparition de nouveaux symptômes. Vous pourrez aussi utiliser à nouveau l’application pour réévaluer vos symptômes",resultMessage.style.fontWeight="bold",resultMessage.style.color="#369D53"),showResult(severity)}function showResult(e){stepper[1].classList.remove("active"),stepper[2].classList.add("active"),startBtn.style.display="block",Préambule.style.display="block",questionnaire.style.display="none",startBtn.textContent=" Recommencer le test",startBtn.addEventListener("click",reload),result.innerText="Résultats"}function reload(){window.location.reload()}